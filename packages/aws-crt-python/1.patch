From 44fab518dd5f889745377f256579fd3caed5ced1 Mon Sep 17 00:00:00 2001
From: Elliana May <me@mause.me>
Date: Wed, 7 Jan 2026 19:02:09 +0800
Subject: [PATCH] -DOPENSSL_LIBRARIES

---
 setup.py | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/setup.py b/setup.py
index 39ae0a7..3389edd 100644
--- a/setup.py
+++ b/setup.py
@@ -285,7 +285,10 @@ class awscrt_build_ext(setuptools.command.build_ext.build_ext):
 
         if using_libcrypto():
             if using_system_libcrypto():
-                cmake_args.append('-DUSE_OPENSSL=ON')
+                cmake_args.append("-DUSE_OPENSSL=ON")
+                cmake_args.append(
+                    f'-DOPENSSL_LIBRARIES="${os.environ["TERMUX_PREFIX"]}/lib/libssl.so;${os.environ["TERMUX_PREFIX"]}/lib/libcrypto.so'
+                )
 
             cmake_args.append('-DAWS_USE_LIBCRYPTO_TO_SUPPORT_ED25519_EVERYWHERE=ON')
 
-- 
2.51.0

